<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/password.css">
    <link rel="stylesheet" href="styles/fintech.css">
    <title>password</title>
</head>
<body class="password-body">
    <main>
        <figure>
            <img src="assets/password/Vector.svg" alt="" class="icon">
        </figure>

        <p class="enter">Enter your Pin</p>

        <section class="gold-balls">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </section>

        <section class="numbers">
                <p>1</p>
                <p>2</p>
                <p>3</p>
                <p>4</p>
                <p>5</p>
                <p>6</p>
                <p>7</p>
                <p>8</p>
                <p>9</p>
                <img src="assets/password/face.svg" alt="">
                <p>0</p>
                <span>Clear</span> 
        </section>

        <button class="confirm-password-btn"><a href="home.html" target="_self">Confirm</a></button><br>

        <button class="forget-btn"><a href="onboarding2.html" target="_self">Forgot Pin?</a></button>
    </main>

    <script>
        //select elements
        const pinBalls = document.querySelectorAll('.gold-balls div');
        const numberBtns = document.querySelectorAll(".numbers p");
        const clearBtn = document.querySelector(".numbers span");
        const confirmBtn = document.querySelector(".confirm-password-btn a");

        //password
        let pinEntered = "";
        const correctPin = "1285";
        const maxPinLength = 4;

        // update PIN display
        const updatePinDisplay = function () {
            pinBalls.forEach((ball, index) => {
                if (index < pinEntered.length) {
                    ball.classList.add('black');
                    ball.classList.remove('gold');
                } else {
                    ball.classList.add('gold');
                    ball.classList.remove('black');
                }
            });
        };

        //Handle number button clicks
        numberBtn.forEach(numberBtn => {
            numberBtn.addEventListener('click', ()=> {
                if (pinEntered.length < maxPinLength) {
                    pinEntered += numberBtn.textContent;
                    updatePinDisplay();
                }
            });
        });

        //Handle clear button click
        clearBtn.addEventListener('click', () => {
            pinEntered = "";
            updatePinDisplay();
        });

        // Handle confirm button click 
        confirmBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if (pinEntered === correctPin) {
                alert("PIN is correct!");
                window.location.href = confirmBtn.getAttribute('href');
            } else {
                alert("Incorrect PIN. Please try again.");
                pinEntered = "";
                updatePinDisplay();
            }
        });

    </script>
</body>
</html>